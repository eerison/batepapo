<!DOCTYPE html>
  <html ng-app="appBatepapo">
    <head>
      <!--Import Google Icon Font-->
      <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="dist/Materialize/dist/css/materialize.min.css"  media="screen,projection"/>

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>

    <body>


      <div class="row" ng-controller="batepapoController">

      <!-- login e cadastro -->
        <div ng-show="usuarioLogado == null">

            <div class="col s12">
            <ul class="tabs">
              <li class="tab col s3"><a href="#test1">Login</a></li>
              <li class="tab col s3"><a href="#test2">Cadastro</a></li>
            </ul>
          </div>

          <!-- login -->
          <div id="test1" class="col s12">

              <div class="row">

                <div class="col s12 z-depth-6 card-panel">
                  <form class="login-form" ng-submit="submitLogin();">

                    <div class="row margin">
                      <div class="input-field col s12">
                        <i class="mdi-social-person-outline prefix"></i>
                        <input class="validate" id="email" type="email" ng-model='login.email' required="required">
                        <label for="email" data-error="wrong" data-success="right">Email</label>
                      </div>
                    </div>
                    
                    <div class="row margin">
                      <div class="input-field col s12">
                        <i class="mdi-action-lock-outline prefix"></i>
                        <input id="password" type="password" ng-model='login.senha' required="required">
                        <label for="password">Password</label>
                      </div>
                    </div>

                    <div class="row">
                      <div class="input-field col s12">
                        <button class="btn waves-effect waves-light col s12" type="submit">Login</button>
                      </div>
                    </div>


                  </form>
                </div>

              </div>

          </div>


          <!-- cadastro -->
          <div id="test2" class="col s12">
                        <div class="row">

                <div class="col s12 z-depth-6 card-panel">
                  <form class="login-form" ng-submit="submitCadastro();">

                    <div class="row margin">
                      <div class="input-field col s12">
                        <i class="mdi-social-person-outline prefix"></i>
                        <input class="validate" id="email" type="text" ng-model="cadastro.nome" required="required">
                        <label for="nome" data-error="wrong" data-success="right">Nome</label>
                      </div>
                    </div>

                    <div class="row margin">
                      <div class="input-field col s12">
                        <i class="mdi-social-person-outline prefix"></i>
                        <input class="validate" id="email" type="email" ng-model="cadastro.email" required="required">
                        <label for="email" data-error="wrong" data-success="right">Email</label>
                      </div>
                    </div>
                    
                    <div class="row margin">
                      <div class="input-field col s12">
                        <i class="mdi-action-lock-outline prefix"></i>
                        <input id="password" type="password" ng-model="cadastro.senha" required="required">
                        <label for="password">Password</label>
                      </div>
                    </div>

                    <div class="row">
                      <div class="input-field col s12">
                        <button class="btn waves-effect waves-light col s12" type="submit">Cadastrar</button>
                      </div>
                    </div>


                  </form>
                </div>

              </div>
          </div>
        </div>
    
        <!-- chat -->
        <div ng-hide="usuarioLogado == null">

            <div class="row">

              <!-- conversa -->
              <div class="col s12 z-depth-6 card-panel" id="chatbox">
                

                <div class="row" ng-repeat="value in conversa">

                  <!-- quem esta enviando a mensagem -->
                  <div class="col s10" ng-hide="value.remetente._id == usuarioLogado._id">
                    <div class="card-panel grey lighten-5">
                      <div class="right-text flow-text">{{value.remetente.nome}} <hr /></div>
                      <span class="darken-4-text">{{value.msg}}</span>
                    </div>
                  </div> <!-- quem esta enviando a mensagem -->

                  <!-- quem esta logado -->
                  <div class="col s10 offset-s2" ng-show="value.remetente._id == usuarioLogado._id">
                    <div class="card-panel green">
                      <span class="white-text">

                      <div class="right-text flow-text">{{value.remetente.nome}} <hr /></div>
                      {{value.msg}}
                      </span>
                    </div>
                  </div><!-- /quem esta logado -->

                </div>


                <!-- escrever mensagem -->
                <div class="row">
                  <form class="col s12" ng-submit="enviarMsg();">
                    <div class="row">

                      <div class="input-field col s10">
                        <textarea id="textarea1" class="materialize-textarea" ng-model="msg.mensagem"></textarea>
                        <label for="textarea1">Mensagem</label>
                      </div><!-- textarea -->


                      <div class="input-field col s2">
                        <button class="btn waves-effect waves-light" type="submit">Submit
                          <i class="material-icons right">send</i>
                        </button>
                      </div><!-- submit -->
                    </div>

                  </form>
                </div><!-- /escrever mensagem -->

              </div><!-- /conversa -->

            </div>
        </div>
        

      </div>
        

      <!--Import jQuery before materialize.js-->
      <script type="text/javascript" src="dist/jquery/dist/jquery.min.js"></script>
      <script type="text/javascript" src="dist/Materialize/dist/js/materialize.min.js"></script>
      <script type="text/javascript" src="dist/angular/angular.min.js"></script>

      <!-- plugin batepapo -->
      <script type="text/javascript" src="js/appBatepapo.js"></script>
      
    </body>
  </html>